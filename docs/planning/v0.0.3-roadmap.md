# FerrisScript v0.0.3 Roadmap 🦀

**Version**: 0.0.3 (Patch Release)  
**Focus**: Editor Experience Alpha  
**Timeline**: 2-3 weeks  
**Prerequisites**: v0.0.2 (syntax highlighting foundation)

---

## 🎯 Overview

**Strategic Goal**: Deliver professional editor experience with enhanced diagnostics, preparing foundation for LSP implementation.

**Key Priorities**:

1. Enhanced error diagnostics with error codes
2. VS Code extension polish and features
3. Development tooling and scripts
4. Performance benchmarking framework

**Alignment with v0.1.0 Strategy**: Continues execution of reprioritized roadmap by significantly improving editor experience and developer diagnostics before LSP implementation.

---

## 📦 High Priority Deliverables

### 1. Enhanced Error Diagnostics 🔥

**Status**: Not Started  
**Priority**: Critical

**Prerequisites**: v0.0.2 error message foundation

**Scope**:

- [ ] Implement error code system (E001, E002, etc.)
- [ ] Add "Did you mean?" suggestions for common typos:
  - Variable name typos (Levenshtein distance)
  - Function name typos
  - Type name typos
  - Keyword suggestions
- [ ] Link errors to documentation
- [ ] Create error code reference documentation
- [ ] Improve error recovery (continue parsing after errors)

**Error Code Categories**:

- E001-E099: Lexical errors
- E100-E199: Syntax errors
- E200-E299: Type errors
- E300-E399: Semantic errors
- E400-E499: Runtime errors

**Example Enhancement**:

**Before** (v0.0.2):

```
Error: Undefined variable 'velocty'
  --> move.ferris:5:10
   |
 5 |     self.velocty.x += 50.0;
   |          ^^^^^^^ not found in this scope
```

**After** (v0.0.3):

```
Error[E201]: Undefined variable
  --> move.ferris:5:10
   |
 5 |     self.velocty.x += 50.0;
   |          ^^^^^^^ not found in this scope
   |
help: a variable with a similar name exists
   |
 5 |     self.velocity.x += 50.0;
   |          ^^^^^^^^
   |
   = note: see https://ferrisscript.dev/errors/E201 for more information
```

**Rationale**: Significantly improves debugging experience. Sets up error reporting infrastructure for LSP integration in v0.0.5.

**Estimated Effort**: 3-4 days

**Components Affected**: Compiler error reporting, type checker

---

### 2. VS Code Extension Polish

**Status**: Not Started  
**Priority**: High

**Prerequisites**: v0.0.2 syntax highlighting

**Scope**:

- [ ] Add code completion for basic keywords:
  - let, let mut, fn, if, else, while, return
  - Types: i32, f32, bool, String, Vector2, Node
  - Built-in functions: print
- [ ] Implement hover tooltips:
  - Show type information for variables
  - Show function signatures
  - Show documentation for built-in types
- [ ] Integrate with VS Code problem panel:
  - Show compiler errors inline
  - Show warnings
  - Quick fixes for common issues
- [ ] Add file icons for `.ferris` files
- [ ] Improve extension marketplace presentation:
  - Better description
  - Screenshots
  - Usage examples
  - Install instructions

**Rationale**: Professional editor experience attracts more developers. Prepares infrastructure for LSP server connection in v0.0.5.

**Estimated Effort**: 3-4 days

**Technical Approach**: Use VS Code Language Client API without full LSP (simplified completion/hover)

---

### 3. Development Scripts

**Status**: Not Started  
**Priority**: High

**Scope**:

- [ ] Create `scripts/test.sh`:
  - Run all workspace tests
  - Run with coverage
  - Run with output
- [ ] Create `scripts/bench.sh`:
  - Run all benchmarks
  - Compare with baseline
  - Generate reports
- [ ] Create `scripts/format.sh`:
  - Run cargo fmt on all crates
  - Check formatting in CI mode
- [ ] Create `scripts/coverage.sh`:
  - Generate coverage reports
  - Open HTML report in browser
  - Upload to coverage service
- [ ] Create `scripts/lint.sh`:
  - Run cargo clippy
  - Run markdown linting
  - Run all quality checks
- [ ] Add pre-commit hooks:
  - Format check
  - Lint check
  - Test check
- [ ] Document all scripts in `scripts/README.md`

**Rationale**: Streamlines development workflow. Makes it easier for contributors to run quality checks locally.

**Estimated Effort**: 2 days

---

## 📊 Medium Priority Deliverables

### Performance Benchmarking Framework

**Status**: Not Started  
**Priority**: Medium

**Scope**:

- [ ] Add criterion.rs benchmarks:
  - Lexer performance
  - Parser performance
  - Type checker performance
  - Runtime execution performance
- [ ] Create baseline measurements
- [ ] Compare with GDScript (if possible)
- [ ] Set up benchmark tracking in CI
- [ ] Document performance characteristics

**Estimated Effort**: 2-3 days

---

### Integration Tests

**Status**: Not Started  
**Priority**: Medium

**Scope**:

- [ ] Test full compiler → runtime pipeline
- [ ] Test Godot integration end-to-end
- [ ] Test cross-platform builds:
  - Linux
  - Windows
  - macOS
- [ ] Add integration test suite

**Estimated Effort**: 2 days

---

### Cross-Platform Build Verification

**Status**: Not Started  
**Priority**: Medium

**Scope**:

- [ ] Verify Linux builds work
- [ ] Verify Windows builds work
- [ ] Verify macOS builds work
- [ ] Document platform-specific issues
- [ ] Add platform badges to README

**Estimated Effort**: 1-2 days

---

## 🎯 Success Metrics

### Quantitative Goals

- [ ] Error codes implemented for all error types
- [ ] 50%+ of common typos have suggestions
- [ ] VS Code extension has 100+ downloads
- [ ] Benchmark baseline established
- [ ] Cross-platform builds verified

### Qualitative Goals

- [ ] Error messages are significantly more helpful
- [ ] VS Code extension feels professional
- [ ] Development scripts are easy to use
- [ ] Contributors can run all checks locally

---

## 🚫 Out of Scope

The following are explicitly **NOT** included in v0.0.3:

- ❌ LSP implementation (deferred to v0.0.5)
- ❌ New language features
- ❌ Godot API expansions (deferred to v0.0.4)
- ❌ Signal support
- ❌ Hot reload
- ❌ Full language server features

---

## 📋 Task Breakdown

### Week 1

- Day 1-2: Implement error code system
- Day 3-4: Add "did you mean?" suggestions
- Day 5-7: Create error code documentation

### Week 2

- Day 1-2: VS Code code completion
- Day 3-4: VS Code hover tooltips and problem panel
- Day 5-7: Development scripts

### Week 3 (Buffer)

- Day 1-2: Benchmarking framework
- Day 3-4: Integration tests
- Day 5: Final testing and polish

---

## 🔗 Dependencies for Next Version

**Enables v0.0.4**:

- ✅ Enhanced diagnostics → Better debugging for API development
- ✅ VS Code polish → Better experience while adding Godot features
- ✅ Dev scripts → Faster iteration on Godot integration

**Critical Path**:

v0.0.2 (Foundation) → v0.0.3 (Editor Alpha) → v0.0.4 (Godot API)

---

## 📝 Notes

### Technical Considerations

**Error Suggestions Algorithm**:

- Use Levenshtein distance for string similarity
- Consider context (variable scope, type compatibility)
- Limit suggestions to top 3 most likely candidates
- Only suggest if similarity > 70%

**VS Code Extension Architecture**:

- Keep extension lightweight (no bundled dependencies)
- Use VS Code built-in APIs where possible
- Prepare for LSP server connection in v0.0.5
- Store user preferences (formatting, snippets, etc.)

### Release Checklist

- [ ] All tests passing
- [ ] Error codes documented
- [ ] VS Code extension updated on marketplace
- [ ] Development scripts tested on all platforms
- [ ] CHANGELOG.md updated
- [ ] Version numbers bumped
- [ ] Tag created: v0.0.3
- [ ] GitHub release created

### Communication

- [ ] Announce improved error diagnostics
- [ ] Share examples of "did you mean?" suggestions
- [ ] Promote enhanced VS Code extension
- [ ] Request feedback on error messages

---

**Last Updated**: October 2025  
**Status**: 🟡 Planning  
**Previous Version**: v0.0.2 (Foundation & Polish)  
**Next Version**: v0.0.4 (Godot API Expansion)
